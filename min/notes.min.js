function addToList(e){var t=document.createElement("option");t.textContent=e,list.appendChild(t)}function saveToStorage(){localStorage.setItem("notes",JSON.stringify(notes))}function saveNotification(){var e=document.querySelector(".saved-notification");e.setAttribute("class","saved-notification"),setTimeout(function(){e.setAttribute("class","saved-notification unsaved")},1500)}function clearNotes(){localStorage.removeItem("notes"),location.reload()}function addNote(){var e=document.querySelector("#currentname"),t=e.value;return t?(notes.hasOwnProperty(t)||(notes[t]="",addToList(t),saveToStorage()),list.value=t,current.value=notes[t],e.value="",void 0):(e.focus(),e.setAttribute("placeholder","Name needed!"),void 0)}var list=document.querySelector("#list"),notes=JSON.parse(localStorage.getItem("notes"))||{"shopping list":""};for(var name in notes)notes.hasOwnProperty(name)&&addToList(name);var current=document.querySelector("#currentnote");current.value=notes[list.value],list.addEventListener("change",function(){current.value=notes[list.value]}),current.addEventListener("change",function(){notes[list.value]=current.value,saveToStorage(),saveNotification()}),current.addEventListener("keydown",function(e){13==e.keyCode&&(notes[list.value]=current.value,saveToStorage(),saveNotification())});